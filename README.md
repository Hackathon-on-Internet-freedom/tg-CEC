# "tg-ЦИК" для сбора статистики о чём угодно

> Легко и сладостно говорить правду в лицо королю

# Что это такое и с чем его едят?

Пишем описание данных в json, выполняем пару команд и получаем бота для
периодического получения альтернативных данных и сайт, на котором видна
суммарная статистика для анализа.

Любой также может подключиться к хранению и анализу, и чем больше людей это
делают, тем сложнее заблокировать сайт или манипулировать результатами - для
хранения используются децентрализованные решения.

Ещё о формате данных:
- каждого участника можно просить сообщить свой регион - тогда в суммарной
статистике будет разбиение по географии; 
- сохраняется время отправки - можно видеть динамику;
- данные можно только дополнять - поэтому все исправления видны;
- участники могут отправлять данные открыто, под псевдонимами или
  конфиденциально - на усмотрение организатора сбора;
- организатор сбора может построить сеть доверия источникам, но при этом
  отправлять данные всё ещё могут все.

## Как это можно использовать?

- Представьте "Белый счётчик", который не просто раз в три часа публикует,
  сколько людей на митинге, а складывает данные в децентрализованную сеть - и
  все желающие могут наблюдать в реальном времени, сколько человек пришли не
  просто в разных городах, но и даже через разные проходы.
- Представьте активистов с самодельными станциями мониторинга воздуха, которые
  выкладывают результаты каждый час на общую карту.
- Представьте медработников, которые могут одним сообщением отправить статистику
  о свободных койках и новых случаях внебольничной пневмонии - давая возможность
  отслеживать эту информацию всем желающим.
- Представьте наблюдателей на выборах, которые нажатием одной кнопки (например,
  [такой](https://www.aliexpress.com/item/32973667926.html)) фиксируют время
  прихода голосующих на часы раньше официальной статистики, или проводят
  экзит-поллы, отправляя информацию в проверяемом виде.

## В проект нужны:

- Фронтендер - для создания сайта отображения собранной информации.

## Контакты:
Мансур
* gltronred@gmail.com	
* https://t.me/gltronred
* https://github.com/gltronred

# Более технические детали

## Требования к формату данных

Чтобы набор данных было интереснее анализировать, имеет смысл сохранять: 

- географию поступающих сообщений - например, при первой отправке данных
  запрашивая регион, город и т.д. (детализация и геоструктура настраивается
  создателем бота)
- время поступления сообщения (возможно, загрублённо). Для проверяемости того,
  что сообщение поступило не раньше определённого времени можно использовать
  timestamping authority, либо централизованный, либо привязку к блокчейну.
  Имеет смысл указывать также последнее известное отправителю сообщение

## Структуры

Чтобы весь этот набор данных можно было обрабатывать, данные должны быть структурированы.

- Геоструктура образует DAG. Населённые пункты входят в регионы, регионы в
  страны и т.п. Получается дерево, но для большей общности можно считать
  орграфом. В каждом узле графа для агрегации нужно выполнять какую-то операцию
  (например, максимум или минимум - для разных источников на одном участке,
  сумму - для разных участков в одном городе). Уровни графа и операции
  фиксированы и задаются в конфигурационном файле.
- Доверие - орграф общего вида с выделенным истоком.
- Каждое сообщение подписывается и содержит хэш предыдущего
  сообщения, чтобы обеспечить линейную историю.
  
## Итого

В итоге пока для бота выбран протокол SSB (Secure Scuttlebutt), и по сути
реализация бота будет чем-то вроде шлюза Telegram-SSB. Кроме этого, будет
реализация полной ноды, накапливающей и показывающей всю историю.

Предварительно, бэкенд будет на Haskell, но это обсуждаемо, явно есть несколько
независимых частей: бот для сбора данных, полная нода для накопления, сайт для
показа результатов и т.п.
